## PyTricks. Выражения-генераторы

Предыдущая версия Вики -- [здесь](https://github.com/Nejel/coursera-python-specialization-repository/wiki)

У списковых включений есть одна возможная проблема, они создают список сразу в памяти. Это может стать большой проблемой, если вы имеете дело с большими наборами данных. Но даже если это не так, лишние расходы вам не нужны. В случае если вы собираетесь запустить цикл по результатам, то нет смысла создавать список. Поэтому, если вы можете отказаться от возможности индексировать результат и выполнять другие операции с списками, вы можете использовать выражение генератора, которое использует очень похожий синтаксис, но создает “ленивый” объект, который ничего не вычисляет, до того момента пока вы не запросите значение.


```python

# выражение-генератор для квадратов всех чисел
squares = (num * num for num in numbers)

# в противном случае вы получите проблему с памятью

with open('/some/number/file', 'r') as f:
    squares = (int(num) * int(num) for num in f)
    # делаем что-то с этими числами

```


## PyTricks. Выражения-генераторы

Выражения-генераторы великолепны, но иногда вам нужно что-то, со схожими свойствами, но при этом не ограниченное синтаксисом, который используют генераторы. Используйте yield. Так, в примере ниже, будет создан генератор — бесконечный набор случайных чисел. Поэтому, пока мы продолжаем запрашивать случайное число, он с радостью нам их поставляет.


```python

import random
def random_numbers(high=1000):
    while True:
        yield random.randint(0, high)

```